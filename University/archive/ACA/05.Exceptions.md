We talked about the data but there is also the control of the system and the execution. There could be a standard program flow but there there can be an interrrupt/exception. These problems have to be handled. Every that you see it seems to be executed in parallel but it is executed serially by the CPU. An Interrupt Handler is the component that handles the exception. An interrupt requires the transfer of the control flow to the handler but you have to not affect the program so you save the state, execute the new handler program and then reload the initial program data. These events are considered rare respect the number of instructions.
### Causes of interrupt
1. Interrupt: an event that requests the attention of the processor
- Asynchronous: an external event
	- input/output device service-request
	- timer expiration
	- power disruptions, hardware failure
- Synchronous: an internal event (a.k.a. exceptions, something executed inside the program but it is not expected)
	- undefined opcode, privileged instruction
	- arithmetic overflow, FPU exception(aritmetic errors)
	- misaligned memory access(accessing an element with the incorrect address)
	- virtual memory exceptions: page faults, TLB misses, protection violations(want to access something not in your process)
	- traps: system calls, e.g., jumps into kernel
### Exception Handling
Concept started in the fifties to handles overflows principally then also for I/O.
Mobile computer have the agility pros but they have to compute before the battery runs out.
### Classes of excetions
Synchronous vs Asynchronous
- Asynchronous events are caused by devices external to the CPU and memory and can be handled after the completion of the current instruction (easier to handle). You try to at least complete the instruction currently executing at the time(a few cycles delay).
- User Requested vs Coerced(Who ask the event)
	- User requested are predictable: treated as exceptions because they use the same mechanisms that are used to save and restore the state; handled after the instruction has completed. Coerced are caused by some HW event not under control of the program(Cannot delay too much the execution)
- User maskable vs User nonmaskable(Having an event and during this event you have another event to manage. You have to set a priority for the events)
	- The mask simply controls whether the hardware responds to the exception or not. Not maskable it means it cannot manage more than one exception at a time.
- Within vs Between instructions
	- Exceptions that occur within instructions are usually synchronous since the instruction triggers the exception. The instruction must be stopped and restarted
	- Asynchronous that occur between instructions arise from catastrophic situations and cause program termination(easiest and CPU conservative solution).
- Resume vs Terminate
	-  Terminating event: program’s execution always stops after the interrupt(Don't know how to manage what it is happening)
	- Resuming event: program’s execution continues after the interrupt

![550](https://i.imgur.com/WQv6a2O.png)

